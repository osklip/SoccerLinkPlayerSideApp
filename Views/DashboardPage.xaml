<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             xmlns:viewmodels="clr-namespace:SoccerLinkPlayerSideApp.ViewModels"
             xmlns:toolkit="http://schemas.microsoft.com/dotnet/2022/maui/toolkit"
             x:Class="SoccerLinkPlayerSideApp.Views.DashboardPage"
             Title="Dashboard"
             Shell.NavBarIsVisible="False">

    <Grid RowDefinitions="Auto, *" Padding="20" RowSpacing="20">
        <VerticalStackLayout Grid.Row="0" Spacing="5">
            <Label Text="{Binding WelcomeMessage}" FontSize="24" TextColor="{StaticResource PrimaryTextColor}" FontAttributes="Bold"/>
        </VerticalStackLayout>

        <ScrollView Grid.Row="1">
            <VerticalStackLayout Spacing="20">

                <Label Text="NajbliÅ¼sze wydarzenie" FontAttributes="Bold" TextColor="{StaticResource SecondaryTextColor}" Margin="0,10,0,0"/>

                <Border IsVisible="{Binding HasNearestEvent}" Style="{StaticResource CardStyle}" Padding="0">
                    <Grid ColumnDefinitions="15, *, Auto">
                        <BoxView Grid.Column="0" Color="{Binding NearestEvent.Color}" VerticalOptions="Fill"/>
                        <VerticalStackLayout Grid.Column="1" Padding="15" Spacing="5">
                            <Label Text="{Binding NearestEvent.Title}" FontAttributes="Bold" FontSize="18" TextColor="{StaticResource PrimaryTextColor}"/>
                            <Label Text="{Binding NearestEvent.Description}" TextColor="{StaticResource MutedTextColor}" FontSize="14"/>

                            <Label Text="{Binding NearestEvent.DisplayDate}" TextColor="{StaticResource SecondaryTextColor}" FontAttributes="Bold"/>
                        </VerticalStackLayout>

                        <Label Grid.Column="2" 
                               Text="{Binding NearestEvent.Icon}" 
                               FontSize="30" 
                               VerticalOptions="Center" 
                               HorizontalOptions="Center" 
                               HorizontalTextAlignment="Center"
                               Padding="0,0,15,0"/>
                    </Grid>
                </Border>

                <Label Text="Menu" FontAttributes="Bold" TextColor="{StaticResource SecondaryTextColor}" Margin="0,10,0,0"/>

                <Grid ColumnDefinitions="*,*" RowDefinitions="120, 120" ColumnSpacing="15" RowSpacing="15">

                    <Border Grid.Row="0" Grid.Column="0" Style="{StaticResource CardStyle}">
                        <Border.GestureRecognizers>
                            <TapGestureRecognizer Command="{Binding GoToMessagesCommand}"/>
                        </Border.GestureRecognizers>
                        <VerticalStackLayout VerticalOptions="Center" HorizontalOptions="Center" Spacing="10">
                            <Label Text="âœ‰ï¸" FontSize="30" HorizontalTextAlignment="Center"/>
                            <Label Text="WiadomoÅ›ci" TextColor="{StaticResource SecondaryTextColor}" FontAttributes="Bold"/>
                        </VerticalStackLayout>
                    </Border>

                    <Border Grid.Row="0" Grid.Column="1" Style="{StaticResource CardStyle}">
                        <Border.GestureRecognizers>
                            <TapGestureRecognizer Command="{Binding GoToStatsCommand}"/>
                        </Border.GestureRecognizers>
                        <VerticalStackLayout VerticalOptions="Center" HorizontalOptions="Center" Spacing="10">
                            <Label Text="ðŸ“Š" FontSize="30" HorizontalTextAlignment="Center"/>
                            <Label Text="Statystyki" TextColor="{StaticResource SecondaryTextColor}" FontAttributes="Bold"/>
                        </VerticalStackLayout>
                    </Border>

                    <Border Grid.Row="1" Grid.Column="0" Style="{StaticResource CardStyle}">
                        <Border.GestureRecognizers>
                            <TapGestureRecognizer Command="{Binding GoToCalendarCommand}"/>
                        </Border.GestureRecognizers>
                        <VerticalStackLayout VerticalOptions="Center" HorizontalOptions="Center" Spacing="10">
                            <Label Text="ðŸ“…" FontSize="30" HorizontalTextAlignment="Center"/>
                            <Label Text="Terminarz" TextColor="{StaticResource SecondaryTextColor}" FontAttributes="Bold"/>
                        </VerticalStackLayout>
                    </Border>

                    <Border Grid.Row="1" Grid.Column="1" Style="{StaticResource CardStyle}">
                        <Border.GestureRecognizers>
                            <TapGestureRecognizer Command="{Binding GoToAttendanceCommand}"/>
                        </Border.GestureRecognizers>
                        <VerticalStackLayout VerticalOptions="Center" HorizontalOptions="Center" Spacing="10">
                            <Label Text="âœ…" FontSize="30" HorizontalTextAlignment="Center"/>
                            <Label Text="ObecnoÅ›Ä‡" TextColor="{StaticResource SecondaryTextColor}" FontAttributes="Bold"/>
                        </VerticalStackLayout>
                    </Border>

                </Grid>

                <Button Text="Wyloguj" Command="{Binding LogoutCommand}" BackgroundColor="{StaticResource NegativeColor}" TextColor="White" Margin="0,20,0,0" FontAttributes="Bold"/>
            </VerticalStackLayout>
        </ScrollView>
    </Grid>
</ContentPage>